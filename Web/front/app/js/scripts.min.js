function initMap(){function e(e,o,r,s){var c=[];if(d)d.setPosition(e);else{var p,u,m,f=map.getDiv().id;if("customer-map"==f)p=fontawesome.markers.BELL,iconColor="#3C8DBC",m=32.5;else if("polygon-map"==f)p=fontawesome.markers.RECYCLE,iconColor="#00A65A",m=31.5;else if("container-map"==f||"request-map"==f){var b=$("#containerTypeCapacity").val();switch(b){case"8,00":iconColor="#00A65A";break;case"10,00":iconColor="#39CCCC";break;case"13,00":iconColor="#367FA9";break;case"15,00":iconColor="#D73925";break;case"20,00":iconColor="#e08e0b";break;case"":iconColor="#FF7701"}p=fontawesome.markers.TRASH,iconColor="#FF7701",m=24.5}else p=fontawesome.markers.TRUCK,iconColor="#3C8DBC",m=24.5;u=new google.maps.Point(m,-25),o=o||1;for(var g=0;g<o;g++){var h=e[g]||e;if("container-map-monitoring"==f){var v=h.ContainerTypeName.substr(3);switch(p=fontawesome.markers.TRASH,v){case"8":iconColor="#00A65A";break;case"10":iconColor="#39CCCC";break;case"13":iconColor="#367FA9";break;case"15":iconColor="#D73925";break;case"20":iconColor="#e08e0b";break;case"":iconColor="#FF7701"}var k=e[g].Number+" "+e[g].ContainerTypeName}if("container-map-monitoring"==f||"cars-map-monitoring"==f)var x=!1;else x=!0;if(d=new google.maps.Marker({position:h,map:map,icon:{path:p,scale:.5,strokeWeight:.2,strokeColor:"black",strokeOpacity:1,fillColor:iconColor,fillOpacity:.8,anchor:u},title:"",draggable:x}),"cars-map-monitoring"==f){var k=e[g].Number;l(d,map,k)}"container-map-monitoring"==f&&l(d,map,k),c.push(d)}console.log("clusters");new MarkerClusterer(map,c,{imagePath:"../Content/img/icons/map/m",maxZoom:15,minimumClusterSize:4,gridSize:50})}d.addListener("dblclick",function(){"container-map-monitoring"===f&&"cars-map-monitoring"===f||a()}),d.addListener("dragend",function(){t(),i(),n()})}function a(){for(var e=0;e<markers.length;e++)markers[e].setMap(null);d=""}function t(){u.lat=d.getPosition().lat(),u.lng=d.getPosition().lng()}function n(){$(".markerLatitude").val(u.lat),$(".markerLongitude").val(u.lng)}function i(){var e="",a=u.lat.toString().slice(0,9),n=u.lng.toString().slice(0,9);$.ajax({type:"GET",url:"https://maps.googleapis.com/maps/api/geocode/json?latlng="+a+","+n+"&location_type=ROOFTOP&result_type=street_address&key=AIzaSyB4NT5_bn3ZPTrYW2Il5YLaBrMHGjzjcjM",beforeSend:t(),success:function(a){"OK"==a.status?(e='<div class="marker-title">Адрес: '+a.results[0].address_components[1].long_name+", "+a.results[0].address_components[0].long_name+"</div>",$(".marker-address").val(a.results[0].address_components[1].long_name+", "+a.results[0].address_components[0].long_name),r()):(e='<div class="marker-title">Не удалось установить адрес. Попробуйте ввести вручную.</div>',$(".marker-address").val("Адрес не найден"),r(),o()),l(d,map,e)}})}function o(){$(".marker-address").val("Адрес не найден"),b.parents(".form-group").addClass("has-warning"),b.after('<span class="help-block">По указанному адресу не удалось ничего найти</span>'),b.parents(".form-group").find("label").prepend('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>  ')}function r(){b.parents(".form-group").removeClass("has-warning"),b.parents(".form-group").find(".fa-exclamation-triangle").remove(),b.parents(".form-group").find(".help-block").remove()}function s(a,r){var s=b.val();a.geocode({address:"Казань,"+s},function(a,s){"OK"===s?(e(a[0].geometry.location),t(),i(),n(),r.setCenter(a[0].geometry.location)):o()})}function l(e,a,t){g?(g.close(),g.setContent(t),g.open(a,e)):(g=new google.maps.InfoWindow,g.setContent(t),g.open(a,e)),e.addListener("click",function(){g.setContent(t),g.open(a,e)})}var c=$(".map-container")[0],d=null,p={center:{lat:55.808307,lng:49.101819},zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP},u={};$(".markerLatitude").val()&&$(".markerLongitude").val()?(u.lat=Number($(".markerLatitude").val().slice(0,2)+"."+$(".markerLatitude").val().slice(3,10)),u.lng=Number($(".markerLongitude").val().slice(0,2)+"."+$(".markerLongitude").val().slice(3,10))):(u.lat=0,u.lng=0);var m={center:{lat:u.lat,lng:u.lng},zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};0==u.lat||0==u.lng?map=new google.maps.Map(c,p):(map=new google.maps.Map(c,m),e(u),i()),map.addListener("click",function(a){var o=map.getDiv().id;"container-map-monitoring"!==o&&"cars-map-monitoring"!==o&&(e(a.latLng),t(),i(),n())});var f=new google.maps.Geocoder,b=$(".marker-address");b.on("change",function(e){$(".help-block").fadeOut("50"),b.parents(".form-group").removeClass("has-warning"),b.parents(".form-group").find(".fa").fadeOut("50"),s(f,map)});var g=null;if(0!=$(".map-container-big").length){var h,v=location.href.split("/")[3];switch(v){case"ContainersMonitoring":h="/api/monitorings/containers";break;case"CarsMonitoring":h="/api/monitorings/cars"}var k=h;$.ajax({type:"GET",url:k,success:function(a){e(a.Data,a.Data.length)}})}}function loadGoogleMapApi(){var e=document.createElement("script");e.type="text/javascript",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4NT5_bn3ZPTrYW2Il5YLaBrMHGjzjcjM",document.body.appendChild(e)}function setMonitoringMap(){0!=$(".map-container-big").length&&($(".map-container-big").css("min-height",$(document).height()-152),setTimeout(initMap,1e3))}function initDataTable(){$.fn.dataTable.moment("DD.MM.YYYY HH:mm"),$(".data-table").dataTable().fnDestroy(),table=$(".data-table").DataTable({order:[[0,"desc"]],paging:!1,pageLength:100,oLanguage:{sUrl:"//cdn.datatables.net/plug-ins/1.10.16/i18n/Russian.json"},initComplete:function(){var e=$(".date-filter").find(".dataTables_wrapper").find(".row").first();0!=e.length&&appendDatePicker(e)},fnPreDrawCallback:showPreloader($(".box-body")),fnInitComplete:hidePreloader()})}function appendDatePicker(e){e.append('<div class="col-sm-6"><div class="form-group form-group_no-label"><div class="input-group date"><div class="input-group-addon"><i class="fa fa-calendar"></i></div><input class="form-control pull-right dateRangePicker" id="dateRangePicker" type="text"></div></div></div>'),initDateRangePicker(),dateRangeFilter()}function initICheck(){$(".icheck").iCheck({checkboxClass:"icheckbox_minimal",radioClass:"icheckbox_minimal",increaseArea:"20%"})}function initDatePicker(){$(".datepicker").datetimepicker({language:"ru"})}function initInputMask(){$(".form-control-tel").inputmask("+7(999) 999-99-99"),$(".form-control-inn").inputmask("999999999999"),$(".form-control-time").inputmask("99:99")}function prepareUrl(e){var a=$("#BaseUrl").attr("data-baseurl");return"/"==a[a.length-1]&&(a=a.substring(0,a.length-1)),"string"==typeof e&&e.length>0?"/"===e[0]?a+"/"+e.substring(1):a+"/"+e:e}function showPreloader(e){e.append('<div class="preloader"></div>')}function hidePreloader(){$(".preloader").delay(1e3).fadeOut("300")}function returnItemName(e){var a="";switch(e.split("/")[1]){case"Containers":a="Контейнер";break;case"Customers":a="Заказчик";break;case"Cars":case"CarContainerTypes":a="Автомобиль";break;case"Polygons":a="Полигон";break;case"ContainerTypes":a="Тип контейнера";break;case"Drivers":a="Водитель";break;case"Requests":a="Заявка";break;case"WayBills":a="Маршрут";break;case"Schedules":a="График работ"}return a}function initDateRangePicker(){$(".dateRangePicker").daterangepicker({locale:{format:"DD.MM.YYYY",separator:" - ",applyLabel:"Применить",cancelLabel:"Сбросить",fromLabel:"От",toLabel:"До",customRangeLabel:"Произвольный промежуток",weekLabel:"Н",daysOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1},autoUpdateInput:!1,opens:"center"})}window.onload=loadGoogleMapApi();var dateRangeFilter=function(){$.fn.dataTableExt.afnFiltering.push(function(e,a,t){var n=$("#dateRangePicker")[0].value,i=n.substring(6,10)+n.substring(3,5)+n.substring(0,2),o=n.substring(19,23)+n.substring(16,18)+n.substring(13,15),r=a[1].substring(6,10)+a[1].substring(3,5)+a[1].substring(0,2);return""===i&&""===o||(i<=r&&""===o||(i>=r&&""===o||i<=r&&o>=r))})};setMonitoringMap();var table="";$(window).on("shown.bs.modal",function(){initICheck(),initDatePicker(),initInputMask()}),initICheck(),$(function(){function e(){$("#dateRangePicker").on("apply.daterangepicker",function(e,a){$(this).val(a.startDate.format("DD.MM.YYYY")+" - "+a.endDate.format("DD.MM.YYYY")),t.draw()}),$("#dateRangePicker").on("cancel.daterangepicker",function(e,a){$(this).val(""),t.draw()})}function a(a){a.append('<div class="col-sm-6"><div class="form-group form-group_no-label"><div class="input-group date"><div class="input-group-addon"><i class="fa fa-calendar"></i></div><input class="form-control pull-right dateRangePicker" id="dateRangePicker" type="text"></div></div></div>'),initDateRangePicker(),e(),dateRangeFilter()}if($(".data-table").length>0){var t="";!function(){var e=$(".modal-window");btnCreateItemTable=$(".create-button"),btnEditItemTable=$(".edit-button"),btnDeleteItemTable=$(".delete-button"),btnCopyItemTable=$(".copy-button"),$.ajaxSetup({cache:!1});var a=function(a,n,i){if(a.preventDefault(),"CarContainerTypes"==n.split("/")[1]){var o=$("#carId").val();n=n+"?carId="+o}$.get(n,function(a){var r=$(".modal-dialog");r.html(a),showPreloader(r),e.on("hidden.bs.modal",function(){r.empty(),e.modal("hide")}),e.find(" form ").submit(function(a){a.preventDefault();var r=e.find(" form "),s=i?"PUT":"POST",l=prepareUrl(i?"/api/"+n.split("/")[1]+"/"+i:"/api/"+n.split("/")[1]);"CarContainerTypes"==n.split("/")[1]?l=prepareUrl("/api/cars/"+o+"/container-type"):"WayBills"==n.split("/")[1]&&(l=prepareUrl("/api/WayBills/requests")),itemName=returnItemName(n),$.ajax({type:s,url:l,data:r.serialize(),success:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-green"><i class="fa fa-check" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">'+itemName+" успешно сохранен</span></div></div>"),setTimeout(function(){location.reload()},1e3),t.draw()},error:function(a){e.modal("show"),a.responseJSON&&a.responseJSON.Error?$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-yellow"><i class="fa fa-exclamation" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">'+a.responseJSON.Error+"</span></div></div>"):$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-red"><i class="fa fa-times" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">В результате сохранения возникла ошибка. Обратитесь к раработчику</span></div></div>')},failure:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-yellow"><i class="fa fa-times" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">Не удалось сохранить'+itemName.toLowerCase()+"</span></div></div>"),setTimeout(function(){location.reload()},1e3)}})}),e.modal("show")})};e.on("shown.bs.modal",function(){$(".map-container")[0]&&initMap(),hidePreloader()}),btnCreateItemTable.click(function(e){a(e,this.getAttribute("href"))}),btnEditItemTable.click(function(e){a(e,this.getAttribute("href"),this.getAttribute("elementId"))}),btnCopyItemTable.click(function(e){a(e,this.getAttribute("href"))}),btnDeleteItemTable.click(function(a){var t=this,n=t.getAttribute("href");url="api/"+n.split("/")[1]+"/"+n.split("/")[3],"CarContainerTypes"==n.split("/")[1]?url=prepareUrl("/api/cars/container-type/"+n.split("/")[3]):"WayBills"==n.split("/")[1]&&(elementId=t.getAttribute("elementid"),url=prepareUrl("/api/WayBills/requests/"+elementId)),itemName=returnItemName(n),$.ajax({type:"DELETE",url:url,success:function(){var a=$($(t).parents("tr")).closest("tr");a[0],$(".data-table").dataTable().fnDeleteRow(a),e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-green"><i class="fa fa-trash" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">'+itemName+" успешно удален</span></div></div>"),setTimeout(function(){e.modal("hide")},1e3)},error:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-red"><i class="fa fa-trash" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">При попытке удаления возникла ошибка. Обратитесь к раработчику</span></div></div>'),setTimeout(function(){e.modal("hide")},1e3)},failure:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-yellow"><i class="fa fa-trash" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">Не удалось удалить '+itemName.toLowerCase()+".</span></div></div>"),setTimeout(function(){e.modal("hide")},1e3)}})})}(),function(){$.fn.dataTable.moment("DD.MM.YYYY HH:mm"),$(".data-table").dataTable().fnDestroy(),t=$(".data-table").DataTable({order:[[0,"desc"]],paging:!1,pageLength:100,oLanguage:{sUrl:"//cdn.datatables.net/plug-ins/1.10.16/i18n/Russian.json"},initComplete:function(){var e=$(".date-filter").find(".dataTables_wrapper").find(".row").first();0!=e.length&&a(e)},fnPreDrawCallback:showPreloader($(".box-body")),fnInitComplete:hidePreloader()})}()}}),$(function(){function e(){initDateRangePicker(),a(),$(".applyFilterButton").click(function(e){e.preventDefault(),i.draw()})}function a(){$("#dateRangePicker").on("apply.daterangepicker",function(e,a){$(this).val(a.startDate.format("DD.MM.YYYY")+" - "+a.endDate.format("DD.MM.YYYY"))}),$("#dateRangePicker").on("cancel.daterangepicker",function(e,a){$(this).val("")})}function t(){var e=$(".modal-window");btnCreateItemTable=$(".create-button"),btnEditItemTable=$(".edit-button"),btnDeleteItemTable=$(".delete-button"),btnCopyItemTable=$(".copy-button"),$.ajaxSetup({cache:!1});var a=function(a,t,n){a.preventDefault(),$.get(t,function(a){var o=$(".modal-dialog");o.html(a),showPreloader(o),e.on("hidden.bs.modal",function(){o.empty(),e.modal("hide")}),e.find(" form ").submit(function(a){a.preventDefault();var o=e.find(" form "),r=n?"PUT":"POST",s=prepareUrl(n?"/api/"+t.split("/")[1]+"/"+n:"/api/"+t.split("/")[1]);itemName=returnItemName(t),$.ajax({type:r,url:s,data:o.serialize(),success:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-green"><i class="fa fa-check" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">'+itemName+" успешно сохранен</span></div></div>"),setTimeout(function(){location.reload()},1e3),i.draw()},error:function(a){e.modal("show"),a.responseJSON&&a.responseJSON.Error?$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-yellow"><i class="fa fa-exclamation" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">'+a.responseJSON.Error+"</span></div></div>"):$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-red"><i class="fa fa-times" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">В результате сохранения возникла ошибка. Обратитесь к раработчику</span></div></div>')},failure:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-yellow"><i class="fa fa-times" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">Не удалось сохранить'+itemName.toLowerCase()+"</span></div></div>"),setTimeout(function(){location.reload()},1e3)}})}),e.modal("show")})};e.on("shown.bs.modal",function(){$(".map-container")[0]&&initMap(),hidePreloader()}),btnCreateItemTable.click(function(e){a(e,this.getAttribute("href"))}),btnEditItemTable.click(function(e){a(e,this.getAttribute("href"),this.getAttribute("elementId"))}),btnCopyItemTable.click(function(e){a(e,this.getAttribute("href"))}),btnDeleteItemTable.click(function(a){var t=this,n=t.getAttribute("href");url="api/"+n.split("/")[1]+"/"+n.split("/")[3],itemName=returnItemName(n),$.ajax({type:"DELETE",url:url,success:function(){i.draw(),e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-green"><i class="fa fa-trash" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">'+itemName+" успешно удален</span></div></div>"),setTimeout(function(){e.modal("hide")},1e3)},error:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-red"><i class="fa fa-trash" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">При попытке удаления возникла ошибка. Обратитесь к раработчику</span></div></div>'),setTimeout(function(){e.modal("hide")},1e3)},failure:function(){e.modal("show"),$("#dialogContent").html('<div class="info-box"><span class="info-box-icon bg-yellow"><i class="fa fa-trash" aria-hidden="true"></i></span><div class="info-box-content"><span class="info-box-text"></span><span class="info-box-number">Не удалось удалить '+itemName.toLowerCase()+".</span></div></div>"),setTimeout(function(){e.modal("hide")},1e3)}})})}function n(e){e.Filter={};var a=$("#dateRangePicker")[0].value;a&&a.length>=23&&(e.Filter.DateStart=a.substring(6,10)+"."+a.substring(3,5)+"."+a.substring(0,2),e.Filter.DateEnd=a.substring(19,23)+"."+a.substring(16,18)+"."+a.substring(13,15));var t=$("#containerTypeFilter")[0].value;"0"!=t&&(e.Filter.ContainerTypeId=t);var n=$("#carFilter")[0].value;"0"!=n&&(e.Filter.CarId=n);var i=$("#requestTypeFilter")[0].value;"0"!=i&&(e.Filter.RequestType=i);var o=$("#driverFilter")[0].value;"0"!=o&&(e.Filter.DriverId=o);var r=$("#customerFilter")[0].value;r&&(e.Filter.CustomerFilter=r);var s=$("#addressFilter")[0].value;s&&(e.Filter.AddressFilter=s);var l=$("#contactPersonPhoneFilter")[0].value;l&&(e.Filter.ContactPersonPhoneFilter=l);var c=$("#requestStatusFilter")[0].value;"0"!=c&&(e.Filter.RequestStatus=c);var d=$("#isPaidFilter")[0].value;"0"!=d&&(e.Filter.IsPaids=d);var p=$("#requestIdFilter")[0].value;"0"!=p&&(e.Filter.RequestId=p)}if($(".requests-table").length>0){var i="";!function(){i=$(".requests-table").DataTable({processing:!0,serverSide:!0,ordering:!1,searching:!1,lengthChange:!1,pageLength:50,ajax:{url:prepareUrl("/api/requests"),dataSrc:"Data",data:function(e){delete e.columns,n(e)}},columnDefs:[{className:"text-center",targets:[0,1,2,3,4,5,6,7,8,9]},{className:"edit-cell edit-cell-4",targets:[10]}],drawCallback:function(e){var a=this.api(),t=a.rows({page:"current"}).nodes(),n=null,i=function(e){var a=e.split(" ");if(a.length<1)return null;var a=a[0].split(".");if(3!=a.length)return null;var t=parseInt(a[0]),n=parseInt(a[1]),i=parseInt(a[2]),o=new Date(i,n-1,t);return o.getFullYear()!=i||o.getMonth()!=n-1||o.getDate()!=t?null:o};a.column(0,{page:"current"}).data().each(function(e,a){var o=i(e);if(!n||o.getFullYear()!=n.getFullYear()||o.getMonth()!=n.getMonth()||o.getDate()!=n.getDate()){var r="";o&&(r=" - "+["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][o.getDay()]),$(t).eq(a).before('<tr class="group" style="background-color: #ddd !important;"><td colspan="11">'+o.getFullYear()+"."+(o.getMonth()+1).toString().padStart(2,0)+"."+o.getDate().toString().padStart(2,0)+r+"</td></tr>"),n=o}})},oLanguage:{sUrl:"//cdn.datatables.net/plug-ins/1.10.16/i18n/Russian.json"},fnPreDrawCallback:showPreloader($(".box-body")),fnInitComplete:hidePreloader(),columns:[{data:"PlannedDate"},{data:"Address"},{data:"ContactPersonPhone"},{data:"IsPaid",render:function(e,a,t,n){return'<i class="fa '+(e?"fa-check":"fa-times")+'" aria-hidden="true"></i>'}},{data:"StatusName",render:function(e,a,t,n){var i="white";switch(e){case"Новая":i="#80ff00";break;case"В работе":i="#ffff00"}return new Date(t.PlannedDate.substring(6,10)+"."+t.PlannedDate.substring(3,5)+"."+t.PlannedDate.substring(0,2)+t.PlannedDate.substring(10,16)).getTime()<new Date&&"Новая"==e&&(i="#fe0229"),'<div style="background-color: '+i+' !important;">'+e+"</div>"}},{data:"TypeName"},{data:"Container",render:function(e,a,t,n){return e?e.Type:'<i class="fa fa-exclamation-triangle" aria-hidden="true" style="color:red;"></i>'}},{data:"Customer",render:function(e){return e?e.Name:"Не заполнен"}},{data:"Car",orderable:!1,render:function(e){return e?e.Number:'<i class="fa fa-exclamation-triangle" aria-hidden="true" style="color:red;"></i>'}},{data:"Driver",orderable:!1,render:function(e){return e?e.Name:'<i class="fa fa-exclamation-triangle" aria-hidden="true" style="color:red;"></i>'}},{data:"Id",orderable:!1,render:function(e,a,t,n){return'<button href="'+prepareUrl("/Requests/Edit?id="+e)+'" elementId="'+e+'" class="btn btn-warning edit-button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>\x3c!--<button href="'+prepareUrl("/Requests/Delete/"+e)+'" elementId="'+e+'" class="btn btn-danger delete-button"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>--\x3e<button href="'+prepareUrl("/Requests/Copy?id="+e)+'" class="btn btn-primary copy-button" ><span class="glyphicon glyphicon-copy" aria-hidden="true"></span></button >'}}]}),i.on("draw",function(){t()}),e()}()}});